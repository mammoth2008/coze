// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package model

import (
	"time"

	"gorm.io/datatypes"
)

const TableNameDatasetVersion = "dataset_version"

// DatasetVersion NDB_SHARE_TABLE;数据集版本
type DatasetVersion struct {
	ID               int64          `gorm:"column:id;type:bigint(20) unsigned;primaryKey;autoIncrement:true;index:idx_dataset_id_created_at_id,priority:3;comment:ID" json:"id"`                                             // ID
	AppID            int32          `gorm:"column:app_id;type:int(11) unsigned;not null;comment:应用 ID" json:"app_id"`                                                                                                        // 应用 ID
	SpaceID          int64          `gorm:"column:space_id;type:bigint(20) unsigned;not null;comment:空间 ID" json:"space_id"`                                                                                                 // 空间 ID
	DatasetID        int64          `gorm:"column:dataset_id;type:bigint(20) unsigned;not null;uniqueIndex:uk_dataset_id_version,priority:1;index:idx_dataset_id_created_at_id,priority:1;comment:数据集 ID" json:"dataset_id"` // 数据集 ID
	SchemaID         int64          `gorm:"column:schema_id;type:bigint(20) unsigned;not null;comment:Schema ID" json:"schema_id"`                                                                                           // Schema ID
	DatasetBrief     datatypes.JSON `gorm:"column:dataset_brief;type:json;comment:数据集元信息备份" json:"dataset_brief"`                                                                                                            // 数据集元信息备份
	Version          string         `gorm:"column:version;type:varchar(64);not null;uniqueIndex:uk_dataset_id_version,priority:2;comment:版本号，SemVer2 三段式" json:"version"`                                                    // 版本号，SemVer2 三段式
	VersionNum       int64          `gorm:"column:version_num;type:bigint(20) unsigned;not null;default:1;comment:数字版本号，从1开始递增" json:"version_num"`                                                                          // 数字版本号，从1开始递增
	Description      *string        `gorm:"column:description;type:varchar(2048);not null;comment:版本描述" json:"description"`                                                                                                  // 版本描述
	ItemCount        int64          `gorm:"column:item_count;type:bigint(20) unsigned;not null;comment:条数" json:"item_count"`                                                                                                // 条数
	SnapshotStatus   string         `gorm:"column:snapshot_status;type:varchar(64);not null;comment:快照状态" json:"snapshot_status"`                                                                                            // 快照状态
	SnapshotProgress datatypes.JSON `gorm:"column:snapshot_progress;type:json;comment:快照进度详情" json:"snapshot_progress"`                                                                                                      // 快照进度详情
	UpdateVersion    int64          `gorm:"column:update_version;type:bigint(20) unsigned;not null;comment:更新版本号" json:"update_version"`                                                                                     // 更新版本号
	CreatedBy        string         `gorm:"column:created_by;type:varchar(128);not null;comment:创建人" json:"created_by"`                                                                                                      // 创建人
	CreatedAt        time.Time      `gorm:"column:created_at;type:timestamp;not null;index:idx_dataset_id_created_at_id,priority:2;default:CURRENT_TIMESTAMP;comment:创建时间" json:"created_at"`                                // 创建时间
	DisabledAt       *time.Time     `gorm:"column:disabled_at;type:timestamp;comment:版本禁用时间" json:"disabled_at"`                                                                                                             // 版本禁用时间
}

// TableName DatasetVersion's table name
func (*DatasetVersion) TableName() string {
	return TableNameDatasetVersion
}
